<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tapkuang â€“ Vaiphei Dictionary</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; background: #faf7f2; margin:0; padding:0; }
    header { text-align:center; background:#f5e6c9; padding:15px; }
    header h1 { margin:0; font-size:18px; }
    .credit { text-align:center; font-size:14px; font-weight:bold; color:#333; margin-top:8px; }
    .grid { display:grid; grid-template-columns:repeat(3,1fr); gap:12px; padding:20px; }
    .card {
      background:white; padding:15px; border-radius:10px; text-align:center;
      box-shadow:0 2px 5px rgba(0,0,0,0.1); cursor:pointer; transition:transform 0.2s;
    }
    .card:hover { transform:scale(1.05); }
    section { display:none; padding:20px; }
    section.active { display:block; }
    input, button { padding:8px; margin:5px 0; }
    .word { margin:5px 0; padding:8px; background:#fff; border-radius:5px; }
    .letters button { margin:2px; padding:5px 10px; }
    .intro { background:#fff; margin:15px; padding:15px; border-radius:10px; font-size:14px; line-height:1.6; }
    footer { padding:12px; text-align:center; font-size:13px; color:#555; background:#f5e6c9; margin-top:20px; }
  </style>
</head>
<body>
  <header>
    <h1>Tapkuang â€“ Vaiphei Dictionary</h1>
    <div class="credit">By PH Thianneilal Vaiphei</div>
  </header>

  <!-- Home -->
  <section id="home" class="active">
    <div class="grid">
      <div class="card" onclick="showPage('home')">Home</div>
      <div class="card" onclick="showPage('search')">Hawlna<br><small>Search</small></div>
      <div class="card" onclick="showPage('dictionary')">Thumalhilchian<br><small>Dictionary</small></div>
      <div class="card" onclick="document.getElementById('fileInput').click()">Excel laklutna<br><small>Import</small></div>
      <div class="card" onclick="showPage('addWord')">Thumal belapna<br><small>Add Word</small></div>
      <div class="card" onclick="exportExcel()">Export Excel</div>
      <div class="card" onclick="alert('Settings page coming soon')">Munpi<br><small>Settings</small></div>
      <div class="card" onclick="login()">Lutna<br><small>Login</small></div>
      <div class="card" onclick="logout()">Pawtna<br><small>Logout</small></div>
    </div>

    <!-- ðŸ‘‡ Intro paragraph -->
    <div class="intro">
      <p>
        I want to make Vaiphei Dictionary App since my Higher Secondary School days. But due to lack of my knowledge in Information and Technology I concealed my dreams for many days. 
        But today I can make out my long dreams â€˜Tapkuang â€“ Vaiphei Dictionary Appâ€™ which is the first Vaiphei Dictionary in App form.
      </p>
      <p>
        I give utmost thanks to God Almighty who made live my dormant dream. I hope this Dictionary serves all the Vaipheis and those who use this language in building up their vocabularies which can enable them to have self-confidence in using English and Vaiphei.
      </p>
      <p>
        All users are requested to help correct mistakes. May God bless you all.
      </p>
    </div>
  </section>

  <!-- Search Page -->
  <section id="search">
    <h2>Search Dictionary</h2>
    <input type="text" id="searchBox" placeholder="Type word..." oninput="doSearch()">
    <div class="letters"></div>
    <div id="searchResults"></div>
    <button onclick="showPage('home')">â¬… Back</button>
  </section>

  <!-- Dictionary Page -->
  <section id="dictionary">
    <h2>All Words</h2>
    <div id="allWords"></div>
    <button onclick="showPage('home')">â¬… Back</button>
  </section>

  <!-- Add Word Page -->
  <section id="addWord">
    <h2>Add Word</h2>
    <input type="text" id="vaipheiInput" placeholder="Vaiphei word"><br>
    <input type="text" id="englishInput" placeholder="English meaning"><br>
    <button onclick="saveWord()">Save</button>
    <button onclick="showPage('home')">â¬… Back</button>
  </section>

  <input type="file" id="fileInput" accept=".xlsx,.xls" style="display:none" onchange="importExcel(event)">

  <footer>
    Â© Ph Thianneilal Vaiphei 2025
  </footer>

  <script>
    let dictionary = JSON.parse(localStorage.getItem("dictionary") || "[]");
    let loggedIn = false;

    function showPage(id){
      document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
      document.getElementById(id).classList.add("active");
      if(id==="dictionary") renderAll();
      if(id==="search") renderLetters();
    }

    function login(){
      let pass = prompt("Enter password:");
      if(pass==="tapkuang123"){ loggedIn=true; alert("Login successful"); }
      else alert("Wrong password");
    }
    function logout(){ loggedIn=false; alert("Logged out"); }

    function saveWord(){
      if(!loggedIn){ alert("Login required"); return; }
      let v=document.getElementById("vaipheiInput").value.trim();
      let e=document.getElementById("englishInput").value.trim();
      if(v && e){
        dictionary.push({vaiphei:v, english:e});
        localStorage.setItem("dictionary", JSON.stringify(dictionary));
        alert("Word saved!");
        document.getElementById("vaipheiInput").value="";
        document.getElementById("englishInput").value="";
      }
    }

    function renderAll(){
      let out=document.getElementById("allWords");
      out.innerHTML="";
      dictionary.forEach(w=>{
        let div=document.createElement("div");
        div.className="word";
        div.textContent=w.vaiphei+" = "+w.english;
        out.appendChild(div);
      });
    }

    function renderLetters(){
      let lettersDiv=document.querySelector(".letters");
      lettersDiv.innerHTML="";
      let letters="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
      letters.forEach(l=>{
        let btn=document.createElement("button");
        btn.textContent=l;
        btn.onclick=()=>filterByLetter(l);
        lettersDiv.appendChild(btn);
      });
    }

    function filterByLetter(l){
      let results=dictionary.filter(w=>w.vaiphei.toUpperCase().startsWith(l));
      displayResults(results);
    }

    function doSearch(){
      let q=document.getElementById("searchBox").value.toLowerCase();
      let results=dictionary.filter(w=> w.vaiphei.toLowerCase().includes(q) || w.english.toLowerCase().includes(q));
      displayResults(results);
    }

    function displayResults(results){
      let out=document.getElementById("searchResults");
      out.innerHTML="";
      if(results.length===0){ out.textContent="No results"; return; }
      results.forEach(w=>{
        let div=document.createElement("div");
        div.className="word";
        div.textContent=w.vaiphei+" = "+w.english;
        out.appendChild(div);
      });
    }

    function importExcel(evt){
      if(!loggedIn){ alert("Login required"); return; }
      let file=evt.target.files[0]; if(!file) return;
      let reader=new FileReader();
      reader.onload=function(e){
        let data=new Uint8Array(e.target.result);
        let wb=XLSX.read(data,{type:"array"});
        let ws=wb.Sheets[wb.SheetNames[0]];
        let rows=XLSX.utils.sheet_to_json(ws);
        dictionary=rows.map(r=>({vaiphei:r.Vaiphei||"", english:r.English||""}));
        localStorage.setItem("dictionary", JSON.stringify(dictionary));
        alert("Imported "+dictionary.length+" words");
      };
      reader.readAsArrayBuffer(file);
    }

    function exportExcel(){
      if(!loggedIn){ alert("Login required"); return; }
      let ws=XLSX.utils.json_to_sheet(dictionary);
      let wb=XLSX.utils.book_new();
      XLSX.utils.book_append_sheet(wb, ws, "Dictionary");
      XLSX.writeFile(wb, "Tapkuang_Dictionary.xlsx");
    }
  </script>
</body>
</html>
