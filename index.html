<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tapkuang Vaiphei Dictionary</title>

  <!-- style -->
  <link rel="stylesheet" href="style.css">

  <!-- jQuery + Turn.js -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/blasten/turn.js@4/turn.min.js"></script>

  <!-- SheetJS for import/export -->
  <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>

  <!-- initial dictionary data -->
  <script src="dictionary-data.js" defer></script>

  <!-- main logic -->
  <script src="script.js" defer></script>
</head>
<body>

  <!-- HOME / COVER -->
  <main id="home" class="screen">
    <img src="Tapkuang cover.jpg" alt="Tapkuang cover" class="cover-img">
    <h1>Tapkuang Vaiphei Dictionary</h1>
    <p class="author">By Ph Thianneilal Vaiphei ‚Äî 2025</p>

    <div class="menu-grid">
      <button class="card" onclick="openBook('e2v')">English ‚Üí Vaiphei</button>
      <button class="card" onclick="openBook('v2e')">Vaiphei ‚Üí English</button>
      <button class="card" onclick="openImport()">Excel laklutna (Import/Save)</button>
      <button class="card" onclick="openAdd()">Thumal belapna (Add Word)</button>
      <button id="loginBtn" class="card" onclick="openLogin()">Lutna (Login/Setup)</button>
      <button id="logoutBtn" class="card" onclick="doLogout()" style="display:none">Pawtna (Logout)</button>
    </div>

    <div class="info-box">
      <p>üëã Tapkuang ‚Äì Vaiphei Dictionary. Use Hawlna (Search) or Thumahlilchian (Dictionary). Admin may Import/Export/Add/Edit/Delete.</p>
    </div>

    <section class="author-note">
      <h3>Author's Note</h3>
      <p>
        I want to make Vaiphei Dictionary App since my Higher Secondary School days. But due to lack of my knowledge in Information and Technology I concealed my dreams for many days. But today I can make out my long dreams ‚ÄòTapkuang ‚Äì Vaiphei Dictionary App‚Äô which is the first Vaiphei Dictionary in App form. I give utmost thanks to God Almighty who made live my dormant dream. I hope this Dictionary serves all the Vaipheis and those who use this language in building up their vocabularies which can enable them to have self-confidence in using English and Vaiphei. All users are requested to help correct mistakes.
      </p>
    </section>
  </main>

  <!-- LOGIN -->
  <section id="login" class="screen" style="display:none">
    <h2>Admin Login</h2>
    <input id="loginUser" placeholder="Username" />
    <input id="loginPass" placeholder="Password" type="password" />
    <div class="row">
      <button onclick="doLogin()">Login</button>
      <button onclick="openHome()">Back</button>
    </div>
    <p id="loginMsg" class="msg"></p>
  </section>

  <!-- IMPORT/EXPORT -->
  <section id="importPage" class="screen" style="display:none">
    <h2>Excel Laklutna (Import & Save)</h2>
    <p class="note">First sheet, first two columns expected: Word (left) and Meaning (right).</p>
    <input id="importFile" type="file" accept=".xlsx,.xls,.csv,.txt" />
    <div class="row">
      <select id="importTarget">
        <option value="v2e">Vaiphei ‚Üí English (V2E)</option>
        <option value="e2v">English ‚Üí Vaiphei (E2V)</option>
      </select>
      <button onclick="doImport()">Import & Save</button>
      <button onclick="openHome()">Back</button>
    </div>
    <p id="importMsg" class="msg"></p>

    <hr>
    <div class="row">
      <button onclick="exportDict('v2e')">Export V2E (XLSX)</button>
      <button onclick="exportDict('e2v')">Export E2V (XLSX)</button>
    </div>
  </section>

  <!-- ADD WORD -->
  <section id="addPage" class="screen" style="display:none">
    <h2>Add Word</h2>
    <div class="row">
      <label>Target</label>
      <select id="addTarget">
        <option value="v2e">Vaiphei ‚Üí English</option>
        <option value="e2v">English ‚Üí Vaiphei</option>
      </select>
    </div>
    <input id="leftInput" placeholder="Word (Left)" />
    <input id="rightInput" placeholder="Meaning (Right)" />
    <div class="row">
      <button onclick="saveAdded()">Save</button>
      <button onclick="openHome()">Back</button>
    </div>
    <p id="addMsg" class="msg"></p>
  </section>

  <!-- V2E Book -->
  <section id="v2e" class="screen" style="display:none">
    <div class="book-header">
      <h2>Vaiphei ‚Üí English</h2>
      <div class="controls">
        <input id="v2eSearch" placeholder="Hawlna (Search)..." oninput="filterBySearch('v2e')" />
      </div>
    </div>

    <div id="v2eAlpha" class="az-row"></div>

    <div id="book-v2e" class="book"></div>

    <div class="pager">
      <button onclick="turnPrev('v2e')">‚Üê</button>
      <span id="v2ePageInfo">Page 0 / 0</span>
      <button onclick="turnNext('v2e')">‚Üí</button>
      <input id="v2eJump" type="number" min="1" placeholder="Page #" />
      <button onclick="jumpToPage('v2e')">Go</button>
      <button onclick="openHome()">Back</button>
    </div>

    <div class="admin-row" id="v2eAdminRow"></div>
  </section>

  <!-- E2V Book -->
  <section id="e2v" class="screen" style="display:none">
    <div class="book-header">
      <h2>English ‚Üí Vaiphei</h2>
      <div class="controls">
        <input id="e2vSearch" placeholder="Search..." oninput="filterBySearch('e2v')" />
      </div>
    </div>

    <div id="e2vAlpha" class="az-row"></div>

    <div id="book-e2v" class="book"></div>

    <div class="pager">
      <button onclick="turnPrev('e2v')">‚Üê</button>
      <span id="e2vPageInfo">Page 0 / 0</span>
      <button onclick="turnNext('e2v')">‚Üí</button>
      <input id="e2vJump" type="number" min="1" placeholder="Page #" />
      <button onclick="jumpToPage('e2v')">Go</button>
      <button onclick="openHome()">Back</button>
    </div>

    <div class="admin-row" id="e2vAdminRow"></div>
  </section>

  <footer class="footer">Local data stored in browser. Use Export for backup.</footer>
</body>
</html>
