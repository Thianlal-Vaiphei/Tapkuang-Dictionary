<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tapkuang — Vaiphei Dictionary</title>

  <link rel="stylesheet" href="style.css">

  <!-- SheetJS from CDN (for import/export). If you need offline, download sheetjs and load locally. -->
  <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>

  <script src="script.js" defer></script>
</head>
<body>
  <!-- HEADER / COVER -->
  <header class="site-header">
    <img id="coverImg" src="Tapkuang cover.jpg" alt="Tapkuang cover" class="cover-img">
    <div class="title-area">
      <h1>Tapkuang — Vaiphei Dictionary</h1>
      <p class="byline">By Ph. Thianneilal Vaiphei • 2025</p>
    </div>
  </header>

  <!-- MAIN MENU -->
  <main id="home" class="main-menu">
    <div class="menu-grid">
      <button class="menu-btn" onclick="showSection('dictionary')">Dictionary (V2E & E2V)</button>
      <button class="menu-btn" onclick="showSection('add')">Word Add</button>
      <button class="menu-btn" onclick="showSection('import')">Excel Laklutna (Import / Save)</button>
      <button class="menu-btn" onclick="showSection('export')">Export</button>
      <button class="menu-btn" onclick="openLoginModal()">Admin Log in</button>
    </div>

    <div class="note-box">
      <button id="toggleNote" class="toggle-note" onclick="toggleAuthorNote()">Read Author's Note ▾</button>
      <div id="authorNote" class="author-note collapsed">
        <h3>Author's Note</h3>
        <p>
          This dictionary project is dedicated to the preservation and growth of the Vaiphei language.
          It is designed as a bridge for learners, researchers, and everyday users who wish to better
          understand the richness of Vaiphei and English side by side. The work represents years of
          dedication and effort to collect, organize, and make the vocabulary accessible in a digital form.
        </p>
        <p>
          Language is more than communication—it is the soul of a community. With every word preserved,
          a piece of identity and culture is safeguarded for the future generations. It is my humble hope
          that this project will inspire younger Vaiphei speakers to value their mother tongue while also
          helping outsiders learn and appreciate it.
        </p>
        <p>
          This work is not perfect and will continue to grow. Feedback, corrections, and contributions
          from users are always welcome. Together, we can make this dictionary stronger and more useful
          for schools, churches, researchers, and families alike.
        </p>
        <p><em>— The Author</em></p>
      </div>
    </div>
  </main>

  <!-- DICTIONARY SECTION (combined V2E & E2V) -->
  <section id="dictionary" class="app-section" style="display:none">
    <div class="dict-header">
      <img src="Tapkuang cover.jpg" class="cover-img small" alt="">
      <div>
        <h2>Tapkuang — Dictionary</h2>
        <p class="byline">Vaiphei ↔ English</p>
      </div>
      <div class="top-actions">
        <button onclick="showSection('home')">Home</button>
        <button id="loginToggleBtn" onclick="openLoginModal()">Admin Log in</button>
      </div>
    </div>

    <div class="dict-controls">
      <div class="tabs">
        <button id="tab-v2e" class="tab active" onclick="switchTab('v2e')">Vaiphei → English</button>
        <button id="tab-e2v" class="tab" onclick="switchTab('e2v')">English → Vaiphei</button>
      </div>

      <div class="search-area">
        <input id="searchInput" placeholder="Search..." oninput="onSearch()" />
        <select id="alphaFilter" onchange="onFilterAlpha()"></select>
      </div>

      <div id="adminControls" class="admin-controls" style="display:none">
        <button onclick="openAddDialog()">Add Word</button>
        <input id="fileInput" type="file" accept=".xlsx,.xls,.csv,.txt" />
        <button onclick="importAndSave()">Import & Save</button>
        <button onclick="exportCurrent()">Export</button>
        <button onclick="logoutAdmin()">Logout</button>
      </div>
    </div>

    <div class="book-area">
      <div id="bookContainer" class="book a4-book"></div>

      <div class="pager">
        <button onclick="prevPage()">⬅ Prev</button>
        <span id="pageInfo">Page 0 / 0</span>
        <button onclick="nextPage()">Next ➡</button>
        <input id="jumpPage" type="number" min="1" placeholder="Go to" />
        <button onclick="jumpToPage()">Go</button>
      </div>
    </div>
  </section>

  <!-- IMPORT SECTION (for admin import preview & paging) -->
  <section id="import" class="app-section" style="display:none">
    <div class="dict-header">
      <img src="Tapkuang cover.jpg" class="cover-img small" alt="">
      <div><h2>Excel Import (Choose file & Save)</h2></div>
      <div class="top-actions">
        <button onclick="showSection('home')">Home</button>
      </div>
    </div>

    <div class="import-controls">
      <div>
        <label>Direction:</label>
        <select id="importDir"><option value="v2e">Vaiphei → English</option><option value="e2v">English → Vaiphei</option></select>
      </div>
      <div>
        <input id="importFile" type="file" accept=".xlsx,.xls,.csv,.txt" />
        <button onclick="previewImport()">Preview Import</button>
        <button onclick="confirmImport()">Import & Save</button>
      </div>
    </div>

    <div class="book-area">
      <div id="importPreview" class="book a4-book"></div>
      <div class="pager">
        <button onclick="prevPage('import')">⬅ Prev</button>
        <span id="importPageInfo">Page 0 / 0</span>
        <button onclick="nextPage('import')">Next ➡</button>
      </div>
    </div>
  </section>

  <!-- ADD WORD SECTION (also used as Add dialog) -->
  <section id="add" class="app-section" style="display:none">
    <div class="dict-header">
      <img src="Tapkuang cover.jpg" class="cover-img small" alt="">
      <div><h2>Add Word</h2></div>
      <div class="top-actions">
        <button onclick="showSection('home')">Home</button>
      </div>
    </div>

    <div class="add-form">
      <label>Direction</label>
      <select id="addDirection"><option value="v2e">Vaiphei → English</option><option value="e2v">English → Vaiphei</option></select>
      <input id="addLeft" placeholder="Word (Left)" />
      <input id="addRight" placeholder="Meaning (Right)" />
      <div class="dialog-actions">
        <button onclick="saveAdd()">Save</button>
        <button onclick="showSection('dictionary')">Cancel</button>
      </div>
      <p id="addMsg" class="msg"></p>
    </div>
  </section>

  <!-- EXPORT SECTION -->
  <section id="export" class="app-section" style="display:none">
    <div class="dict-header">
      <img src="Tapkuang cover.jpg" class="cover-img small" alt="">
      <div><h2>Export</h2></div>
      <div class="top-actions">
        <button onclick="showSection('home')">Home</button>
      </div>
    </div>

    <div class="export-controls">
      <button onclick="exportAll('v2e')">Export Vaiphei → English</button>
      <button onclick="exportAll('e2v')">Export English → Vaiphei</button>
    </div>
  </section>

  <!-- LOGIN MODAL -->
  <div id="loginModal" class="modal" aria-hidden="true">
    <div class="modal-content">
      <h2>Admin Login</h2>
      <input id="adminUser" placeholder="Username" />
      <input id="adminPass" type="password" placeholder="Password" />
      <div class="modal-actions">
        <button onclick="doLogin()">Login</button>
        <button onclick="closeLoginModal()">Cancel</button>
      </div>
      <p id="loginMsg" class="msg"></p>
    </div>
  </div>

</body>
</html>
